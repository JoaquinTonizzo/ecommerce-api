<div class="productos-container">
  <h2>Productos</h2>
  <div class="producto-list-mini">
    <div *ngIf="loading" style="width: 100%; text-align: center; padding: 32px">
      <span>Cargando productos...</span>
    </div>
    <ng-container *ngIf="!loading">
      <div *ngFor="let producto of productos" class="producto-card-mini">
        <img
          [src]="producto.thumbnails?.[0] || 'https://via.placeholder.com/70x70?text=Sin+Imagen'"
          alt="{{ producto.title }}"
        />
        <h3>{{ producto.title }}</h3>
        <div style="display: flex; gap: 8px">
          <button
            class="btn-agregar-mini"
            (click)="agregarAlCarrito(producto.title)"
          >
            üõí
          </button>
          <button class="btn-detalle-mini" (click)="verDetalle(producto)">
            üîç
          </button>
        </div>
      </div>
    </ng-container>
    <!-- Modal de detalle -->
    <div class="modal-producto" *ngIf="modalVisible" (click)="cerrarModal()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <img
          [src]="productoSeleccionado?.thumbnails?.[0] || 'https://via.placeholder.com/120x120?text=Sin+Imagen'"
          alt="{{ productoSeleccionado?.title }}"
        />
        <h2>{{ productoSeleccionado?.title }}</h2>
        <p>{{ productoSeleccionado?.description }}</p>
        <div class="modal-info">
          <span><b>Precio:</b> ${{ productoSeleccionado?.price }}</span
          ><br />
          <span><b>Stock:</b> {{ productoSeleccionado?.stock }}</span
          ><br />
          <span><b>Categor√≠a:</b> {{ productoSeleccionado?.category }}</span>
        </div>
        <button class="btn-cerrar-modal" (click)="cerrarModal()">Cerrar</button>
      </div>
    </div>
  </div>
</div>
